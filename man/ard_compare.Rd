% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ard_compare.R
\name{ard_compare}
\alias{ard_compare}
\title{Run ARD compare across multiple sex/ancestry groups}
\usage{
ard_compare(
  exposure,
  exposure_units,
  groups,
  sensitivity_enabled = c(
    "egger_intercept",
    "egger_slope_agreement",
    "weighted_median",
    "weighted_mode",
    "steiger_direction",
    "leave_one_out",
    "ivw_Q",
    "ivw_I2"
  ),
  sensitivity_pass_min = 6,
  Multiple_testing_correction = c("BH", "bonferroni"),
  scatterplot = TRUE,
  snpforestplot = TRUE,
  leaveoneoutplot = TRUE,
  cache_dir = ardmr_cache_dir(),
  logfile = NULL,
  verbose = TRUE,
  confirm = "ask",
  force_refresh = FALSE
)
}
\arguments{
\item{exposure}{Character (mandatory) label for the exposure; used for naming output directories and plot titles.}

\item{exposure_units}{Character (mandatory) description of the exposure units for Î²-scale plots.}

\item{groups}{List of named group specifications. Each entry must provide \code{sex}, \code{ancestry}, and \code{exposure_snps} values describing a run configuration. Sex must be one of \code{"both"}, \code{"male"}, or \code{"female"}; ancestry codes should match those accepted by \code{run_phenome_mr()}. The \code{exposure_snps} component supplies the TwoSampleMR-style instrument data for that group.}

\item{sensitivity_enabled}{Character vector of checks (default = all 8).}

\item{sensitivity_pass_min}{Integer threshold to pass QC (default 6).}

\item{Multiple_testing_correction}{\code{"BH"} or \code{"bonferroni"} (default \code{"BH"}).}

\item{scatterplot, snpforestplot, leaveoneoutplot}{Logical; produce per-outcome diagnostics.}

\item{cache_dir}{Cache directory for temporary files (default: \code{ardmr_cache_dir()}).}

\item{logfile}{Optional path to log file. Defaults to a timestamped file in \code{cache_dir} if not supplied.}

\item{verbose}{Logical; if \code{FALSE}, only warnings/errors are logged.}

\item{confirm}{Character; whether to prompt before downloading required resources when using Neale data. One of \code{"ask"}, \code{"yes"}, or \code{"no"}.}

\item{force_refresh}{Logical; if \code{TRUE}, re-download remote resources even if they are already cached.}
}
\value{
Invisibly returns \code{NULL} after writing the combined compare outputs to disk.
}
\description{
Calls \code{run_phenome_mr()} for each supplied group (reusing cached runs when available) and builds beta-scale comparison tables and forests that stack the groups side-by-side.
}
\details{
Combined plots and tables are written beneath \code{cache_dir/output/<exposure>/compare/<timestamp>/beta_compare/}. Existing \code{beta/tables/global.csv} files are treated as proof that a group's run already exists.
}
